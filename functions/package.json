{
    "name": "functions",
    "version": "1.0.0",
    "scripts": {
        "postinstall": "command -v ts-patch >/dev/null && ts-patch install || true",
        "prebuild": "node -e \"require('fs').mkdirSync('assets',{recursive:true})\" && yarn --cwd ../packages/shared build && yarn --cwd ../packages/shared pack --filename ../../functions/assets/wheel-strat-shared-1.0.0.tgz && node ./scripts/copy-assets-data.js",
        "build": "ts-patch install && tspc",
        "prebuild:watch": "node -e \"require('fs').mkdirSync('assets',{recursive:true})\" && yarn --cwd ../packages/shared build && yarn --cwd ../packages/shared pack --filename ../../functions/assets/wheel-strat-shared-1.0.0.tgz && node ./scripts/copy-assets-data.js",
        "build:watch": "tspc --watch",
        "serve": "npm run build && firebase emulators:start --only functions",
        "shell": "npm run build && firebase functions:shell",
        "start": "npm run shell",
        "deploy": "firebase deploy --only functions",
        "deploy:rules": "firebase deploy --only firestore:rules",
        "logs": "firebase functions:log",
        "test": "jest",
        "deploy:cloudsql": "gcloud sql instances restart historical --project=wheel-strat-483102"
    },
    "engines": {
        "node": "22"
    },
    "main": "lib/functions/src/index.js",
    "dependencies": {
        "@google-cloud/logging": "^11.2.1",
        "@google-cloud/vertexai": "^1.9.0",
        "@google/generative-ai": "^0.24.1",
        "@types/pg": "^8.16.0",
        "@wheel-strat/shared": "file:./assets/wheel-strat-shared-1.0.0.tgz",
        "firebase-admin": "^13.0.0",
        "firebase-functions": "^7.0.3",
        "knex": "^3.1.0",
        "node-fetch": "^3.3.2",
        "pg": "^8.17.1",
        "zod": "^4.3.6"
    },
    "devDependencies": {
        "@types/jest": "^30.0.0",
        "firebase-functions-test": "^3.4.1",
        "jest": "^30.2.0",
        "jest-util": "^30.2.0",
        "ts-jest": "^29.4.6",
        "ts-patch": "^3.3.0",
        "typescript": "^5.1.3",
        "typescript-transform-paths": "^3.5.6"
    },
    "private": true
}
