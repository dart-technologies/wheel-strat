# Public.com API (Real-Time Market Data)
# Note: Get your token from https://public.com/user-settings/api
PUBLIC_API_KEY=YOUR_PUBLIC_KEY
PUBLIC_API_SECRET=YOUR_PUBLIC_SECRET
PUBLIC_API_GATEWAY=https://api.public.com/userapigateway
PUBLIC_ACCOUNT_ID=YOUR_ACCOUNT_ID
# Preferred market data provider: public | ibkr
MARKET_DATA_PROVIDER=public

# Polygon.io (Historical Data / Seed Data)
# Get key here: https://polygon.io/
POLYGON_API_KEY=YOUR_POLYGON_KEY

# Firebase Configuration (From Google Cloud Console)
EXPO_PUBLIC_FIREBASE_API_KEY=YOUR_FIREBASE_API_KEY
EXPO_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
EXPO_PUBLIC_FIREBASE_PROJECT_ID=your-project-id
EXPO_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project.firebasestorage.app
EXPO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789
EXPO_PUBLIC_FIREBASE_APP_ID=1:123456789:ios:abcdef
EXPO_PUBLIC_PROJECT_ID=your-eas-project-id
EXPO_ACCESS_TOKEN=your-expo-access-token

# Firebase Emulators (Local Dev)
EXPO_PUBLIC_USE_FIREBASE_EMULATOR=false
EXPO_PUBLIC_USE_PROD_SERVICES=false
EXPO_PUBLIC_FIREBASE_EMULATOR_HOST=localhost
EXPO_PUBLIC_FUNCTIONS_EMULATOR_PORT=5001
EXPO_PUBLIC_FIRESTORE_EMULATOR_PORT=8080

# Database / Cloud SQL Proxy
DB_PROVIDER=cloudsql
DB_HOST=127.0.0.1
DB_PORT=5432
DB_NAME=wheel_strat_db
DB_USER=postgres
DB_PASSWORD=postgres
CLOUD_SQL_CONNECTION_NAME=your-project:region:instance

# Vertex AI (Google Cloud)
GOOGLE_CLOUD_PROJECT=your-gcp-project-id
GOOGLE_APPLICATION_CREDENTIALS=path/to/service-account.json
VERTEX_AI_LOCATION=global
VERTEX_AI_TRY_GLOBAL_LOCATION=true
VERTEX_AI_API_ENDPOINT=aiplatform.googleapis.com
VERTEX_AI_TEXT_MODEL=gemini-3-flash-preview
VERTEX_AI_IMAGE_MODEL=gemini-3-pro-image-preview

# AI Provider: 'vertex_ai' (Enterprise) or 'google_ai_studio' (Free Tier)
# Defaults to 'vertex_ai' if unset.
AI_PROVIDER=google_ai_studio
GOOGLE_API_KEY=YOUR_GOOGLE_AI_STUDIO_KEY

# IBKR (Standardized prefix)
IBKR_ACCOUNT_ID=YOUR_IBKR_ACCOUNT_ID
IBKR_USERNAME=your_ibkr_username
IBKR_PASSWORD=your_ibkr_password

# IBKR Gateway / TWS (Paper vs Live)
# IB Gateway ports: paper=4001, live=4002. TWS ports: paper=7497, live=7496.
# For the dockerized bridge (ib-gateway + socat), use 4004.
EXPO_PUBLIC_IB_TRADING_MODE=paper
IB_TRADING_MODE=paper
IB_CLIENT_TYPE=ib_gateway
IB_HOST=127.0.0.1
IB_PORT=4002
IB_CLIENT_ID=1
IB_GATEWAY_API_PORT=4004
# If 5900 is already in use on the host, set this to 5901+.
IB_GATEWAY_VNC_PORT=5901
# Increase heap for IB Gateway/TWS API stability on Mac Mini.
IB_GATEWAY_JAVA_HEAP_MB=4096

# IBKR Bridge (Profile-driven URLs)
# Switch targets by updating the profile value.
EXPO_PUBLIC_IBKR_BRIDGE_PROFILE=remote_docker
EXPO_PUBLIC_IBKR_BRIDGE_URL_LOCAL_MAC=http://127.0.0.1:5050
EXPO_PUBLIC_IBKR_BRIDGE_URL_LOCAL_DOCKER=http://127.0.0.1:5050
EXPO_PUBLIC_IBKR_BRIDGE_URL_REMOTE_DOCKER=https://innate-eudemonistically-sharita.ngrok-free.dev
EXPO_PUBLIC_IBKR_BRIDGE_DEFAULT_URL=https://innate-eudemonistically-sharita.ngrok-free.dev
EXPO_PUBLIC_IBKR_BRIDGE_API_KEY=YOUR_BRIDGE_KEY

IBKR_BRIDGE_PROFILE=remote_docker
IBKR_BRIDGE_URL_LOCAL_MAC=http://127.0.0.1:5050
IBKR_BRIDGE_URL_LOCAL_DOCKER=http://127.0.0.1:5050
IBKR_BRIDGE_URL_REMOTE_DOCKER=https://innate-eudemonistically-sharita.ngrok-free.dev
IBKR_BRIDGE_DEFAULT_URL=https://innate-eudemonistically-sharita.ngrok-free.dev
IBKR_BRIDGE_API_KEY=YOUR_BRIDGE_KEY
IBKR_EXECUTION_WEBHOOK_URL=https://your-region-your-project.cloudfunctions.net/ingestIbkrExecutions

# Bridge tuning
IB_MARKET_DATA_CACHE_TTL=2
IB_OPTION_CHAIN_CACHE_TTL=300
IB_HISTORICAL_CACHE_TTL=300
IB_OPTION_HIST_BAR_SIZE=15 mins
IB_OPTION_HIST_DURATION=1 D
BRIDGE_RATE_LIMIT_RPS=0
BRIDGE_RATE_LIMIT_BURST=0
CADDY_HOST=localhost

# Bridge connection stability (recommended defaults)
IB_CONNECT_TIMEOUT=30
IB_HEALTH_CONNECT_TIMEOUT=5
IB_HEALTH_CACHE_TTL=2
IB_HEALTH_LOCK_TIMEOUT=0.25
IB_EXECUTIONS_TIMEOUT=12
IB_EXECUTIONS_LOCK_TIMEOUT=3
IB_EXECUTIONS_CACHE_TTL=30
IB_RECONNECT_INTERVAL=10
IB_RECONNECT_BACKOFF_MAX=60
IB_RECONNECT_LOCK_TIMEOUT=0.5
IB_HEARTBEAT_INTERVAL=30
IB_HEARTBEAT_TIMEOUT=20
IB_HEARTBEAT_FAILURES_BEFORE_EXIT=3
IB_DATA_LOCK_TIMEOUT=5
IB_DATA_LOCK_RETRY_ATTEMPTS=3
IB_DATA_LOCK_RETRY_BACKOFF=0.2
IB_CONTRACT_QUALIFY_TIMEOUT=5
IB_LOCK_WATCHDOG_SECONDS=5
IB_DEBUG_LOGGING=false
